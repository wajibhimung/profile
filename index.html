<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- SEO Basics -->
  <title>Wibowo Laksono ‚Äî Guru TKJ SMKN 1 Telagasari</title>
  <meta name="description" content="Link hub resmi Wibowo Laksono, Guru Teknik Komputer dan Jaringan di SMKN 1 Telagasari. Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak.">
  <meta name="author" content="Wibowo Laksono">
  <meta name="keywords" content="Wibowo Laksono, Guru TKJ, SMKN 1 Telagasari, Teknik Komputer dan Jaringan, TKJ, Jaringan Komputer">
  <link rel="canonical" href="https://me.kelastkj.online/">
  <meta name="robots" content="index,follow">
  <meta name="theme-color" content="#0f172a">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Wibowo Laksono ‚Äî Guru TKJ SMKN 1 Telagasari">
  <meta property="og:description" content="Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak.">
  <meta property="og:image" content="https://me.kelastkj.online/profile.png">
  <meta property="og:url" content="https://me.kelastkj.online/">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="id_ID">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Wibowo Laksono ‚Äî Guru TKJ SMKN 1 Telagasari">
  <meta name="twitter:description" content="Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak..">
  <meta name="twitter:image" content="https://me.kelastkj.online/profile.png">
  
  <!-- Icons -->
  <link rel="icon" href="https://www.smkn1telagasari.sch.id/wp-content/uploads/2022/07/199207302020121021-300x300.png" type="image/png">
  <link rel="apple-touch-icon" href="https://www.smkn1telagasari.sch.id/wp-content/uploads/2022/07/199207302020121021-300x300.png">
  
  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Wibowo Laksono",
    "jobTitle": "Guru Teknik Komputer dan Jaringan",
    "affiliation": {
      "@type": "EducationalOrganization",
      "name": "SMKN 1 Telagasari",
      "url": "https://www.smkn1telagasari.sch.id/"
    },
    "email": "mailto:wibowo@guru.smkn1telagasari.sch.id",
    "url": "https://me.kelastkj.online/",
    "sameAs": [
      "https://www.linkedin.com/in/wajibhimung",
      "https://www.instagram.com/wajibhimung",
      "https://www.tiktok.com/@wajibhimung",
      "https://www.threads.net/@wajibhimung",
      "https://www.smkn1telagasari.sch.id/guru/wibowo-laksono-s-kom/"
    ],
    "image": "https://www.smkn1telagasari.sch.id/wp-content/uploads/2022/07/199207302020121021-300x300.png",
    "description": "Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak. Link penting Wibowo Laksono, Guru TKJ SMKN 1 Telagasari."
  }
  </script>
  
  <!-- Assets -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Swiper -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <style>
    html { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans'; }
    :root { color-scheme: light dark; }
    .bg-grid { background-image: radial-gradient(rgba(99,102,241,0.15) 1px, transparent 1px); background-size: 18px 18px; }
    /* Page fade transitions */
    body { opacity: 0; transition: opacity .25s ease; }
    body.ready { opacity: 1; }
    /* Equal-height cards */
    .post-card { display:flex; flex-direction:column; height:100%; }
    .post-img { height:160px; width:100%; object-fit:cover; }
    @media (min-width: 1024px) { .post-img { height:176px; } }
    @media (min-width: 1280px) { .post-img { height:208px; } }
    .post-body { display:flex; flex-direction:column; flex:1 1 auto; }
    .post-title { display:block; font-weight:600; }
  .post-excerpt { margin-top:0.25rem; font-size:0.9rem; line-height:1.5rem; }
  .line-clamp-3 { display:-webkit-box; -webkit-line-clamp:3; line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
    /* Blog grid */
    .auto-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap:1.5rem; }
    @media (min-width:640px){ .auto-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); } }
    @media (min-width:1024px){ .auto-grid { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); } }
    @media (min-width:1536px){ .auto-grid { grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); } }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-950 text-slate-900 dark:text-slate-100">
  <div class="absolute inset-0 bg-grid [mask-image:radial-gradient(ellipse_at_center,black,transparent_60%)] pointer-events-none"></div>

  <main class="relative mx-auto w-full px-0 sm:px-0 py-4 sm:py-6">
    <!-- Top hint -->
    <div class="px-4 sm:px-6 flex items-center justify-between gap-3">
      <button id="hint" class="inline-flex items-center gap-2 rounded-full bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-100 px-3 py-1.5 text-xs border border-slate-200 dark:border-slate-700 hover:bg-white dark:hover:bg-slate-700 transition">‚û°Ô∏è Blog</button>
      <div class="flex gap-1" aria-label="indikator slide">
        <span class="w-2 h-2 rounded-full bg-slate-400/60" id="dot-1"></span>
        <a id="to-blog" class="w-2 h-2 rounded-full bg-slate-300/40 block hover:bg-slate-400/60 transition" title="Buka Blog"></a>
      </div>
    </div>
    <div class="swiper mt-2">
      <div class="swiper-wrapper">
        <!-- Slide 1: Link Hub -->
        <section class="swiper-slide">
          <div class="px-4 sm:px-6 pb-6">
            <div class="mx-auto max-w-xl flex flex-col">
            <!-- Profile card -->
            <section class="flex flex-col items-center text-center gap-3 mt-4">
              <img src="https://www.smkn1telagasari.sch.id/wp-content/uploads/2022/07/199207302020121021-300x300.png" alt="Wibowo Laksono" class="h-24 w-24 rounded-full object-cover shadow-lg ring-2 ring-white/80 dark:ring-slate-800">
              <h1 class="text-xl font-extrabold tracking-tight">Wibowo Laksono</h1>
              <p class="text-[13px] text-slate-600 dark:text-slate-300">Guru Teknik Komputer dan Jaringan ‚Ä¢ SMKN 1 Telagasari</p>
              <p class="text-[13px] text-slate-600/90 dark:text-slate-300/90 max-w-md">Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak</p>
            </section>

            <!-- Quick badges -->
            <section class="mt-4 flex flex-wrap justify-center gap-2">
              <a href="mailto:wibowo@guru.smkn1telagasari.sch.id" class="inline-flex items-center gap-2 rounded-full bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-3 py-1.5 text-xs">‚úâÔ∏è Email</a>
              <a href="https://wa.me/628774040382" target="_blank" rel="noreferrer" class="inline-flex items-center gap-2 rounded-full bg-emerald-600 text-white px-3 py-1.5 text-xs">üí¨ WhatsApp</a>
              <a href="tel:08774040382" class="inline-flex items-center gap-2 rounded-full bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-100 px-3 py-1.5 text-xs border border-slate-200 dark:border-slate-700">üìû Telepon</a>
            </section>

            <!-- Links list -->
            <section class="mt-5 space-y-2.5">
              <a href="https://www.smkn1telagasari.sch.id/" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200">üè´</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Website SMKN 1 Telagasari</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">smkn1telagasari.sch.id</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">‚Üó</div>
                </div>
              </a>
              <a href="https://www.smkn1telagasari.sch.id/guru/wibowo-laksono-s-kom/" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-200">ü™™</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Profil Guru (Situs Sekolah)</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">wibowo-laksono-s-kom</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">‚Üó</div>
                </div>
              </a>
              <a href="https://www.linkedin.com/in/wajibhimung" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-sky-100 text-sky-700 dark:bg-sky-900/40 dark:text-sky-200">in</div>
                  <div class="min-w-0">
                    <div class="font-semibold">LinkedIn</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">linkedin.com/in/wajibhimung</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">‚Üó</div>
                </div>
              </a>
              <a href="https://www.instagram.com/wajibhimung" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-200">üì∏</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Instagram</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">@wajibhimung</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">‚Üó</div>
                </div>
              </a>
              <!-- NEW: TikTok -->
              <a href="https://www.tiktok.com/@wajibhimung" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-zinc-100 text-zinc-700 dark:bg-zinc-900/40 dark:text-zinc-200">üéµ</div>
                  <div class="min-w-0">
                    <div class="font-semibold">TikTok</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">tiktok.com/@wajibhimung</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">‚Üó</div>
                </div>
              </a>
              <!-- NEW: Threads -->
              <a href="https://www.threads.net/@wajibhimung" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-neutral-100 text-neutral-700 dark:bg-neutral-900/40 dark:text-neutral-200">üßµ</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Threads</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">threads.net/@wajibhimung</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">‚Üó</div>
                </div>
              </a>
              <a href="https://kelastkj.smkn1telagasari.sch.id/" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-200">üéì</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Kelas Online TKJ</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">kelastkj.smkn1telagasari.sch.id</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">‚Üó</div>
                </div>
              </a>
              <a href="https://jurnal-baca.kelastkj.online/" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200">üìñ</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Jurnal Baca</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">jurnal-baca.kelastkj.online</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">‚Üó</div>
                </div>
              </a>
            </section>

            <footer class="mt-auto text-center text-xs text-slate-500 dark:text-slate-400 pt-6 pb-8">
              ¬© <span id="year"></span> Wibowo Laksono ‚Ä¢ Dibuat dengan Tailwind ‚Ä¢ Mode gelap otomatis üåô
            </footer>
            </div>
          </div>
        </section>

        <!-- Slide 2: Blog (window scroll, infinite load) -->
        <section class="swiper-slide">
          <div class="px-4 sm:px-6 lg:px-8 xl:px-12 pb-6">
            <header class="flex items-center justify-between mt-4">
              <h2 class="text-lg font-semibold">Blog</h2>
              <a href="https://wajibhimung.blogspot.com" target="_blank" rel="noreferrer" class="text-sm text-indigo-600 hover:underline">Kunjungi blog</a>
            </header>
            <!-- Blog skeleton/loading -->
            <div id="blog-skeleton" class="mt-4 auto-grid hidden">
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-3/4"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/3"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-11/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-2/3"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/4"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-10/12"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-8/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-4/5"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/3"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-7/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-2/3"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/4"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-10/12"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-8/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-3/4"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/3"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-11/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-4/5"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/3"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-7/12"></div>
                </div>
              </div>
            </div>
            <section class="mt-4 auto-grid" id="blog-grid"></section>
            <div id="blog-loader" class="py-4 text-center text-sm text-slate-500 hidden">Memuat‚Ä¶</div>
            <div id="blog-end" class="py-4 text-center text-sm text-slate-500 hidden">Sudah sampai akhir.</div>
          </div>
        </section>
      </div>
    </div>
    <!-- Floating back-to-top (shown on Blog slide only) -->
    <button id="to-top" aria-label="Kembali ke atas" class="fixed bottom-5 right-5 z-20 rounded-full bg-indigo-600 text-white shadow-lg p-3 opacity-0 pointer-events-none transition duration-200 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-white/60 dark:focus:ring-slate-700">‚Üë</button>
  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script>
    // Fade-in
    document.addEventListener('DOMContentLoaded', () => {
      requestAnimationFrame(() => document.body.classList.add('ready'));
    });
    document.getElementById('year').textContent = new Date().getFullYear();

  // Swiper (no URL changes)
  const initialSlide = (new URLSearchParams(location.search).get('view') === 'blog') ? 1 : 0;
  const swiper = new Swiper('.swiper', { spaceBetween: 8, resistanceRatio: 0.85, allowTouchMove: true, autoHeight: true, initialSlide });
    const dot1 = document.getElementById('dot-1');
    const dot2 = document.getElementById('to-blog');
    const hintBtn = document.getElementById('hint');
    function updateDots() {
      if (swiper.activeIndex === 0) {
        hintBtn.textContent = '‚û°Ô∏è Blog';
        dot1.style.backgroundColor = 'rgb(148 163 184)';
        dot1.style.opacity = 0.9;
        dot2.style.backgroundColor = 'rgb(203 213 225)';
        dot2.style.opacity = 0.4;
      } else {
        hintBtn.textContent = '‚¨ÖÔ∏è Profile';
        dot2.style.backgroundColor = 'rgb(148 163 184)';
        dot2.style.opacity = 0.9;
        dot1.style.backgroundColor = 'rgb(203 213 225)';
        dot1.style.opacity = 0.4;
      }
    }
    function ensureBlogReady() { if (swiper.activeIndex === 1 && !blogInitialized) initBlog(); }
    swiper.on('slideChange', () => {
      updateDots();
      // Reset scroll on entering home; reveal toTop based on blog state
  if (swiper.activeIndex === 0) window.scrollTo({ top: 0, behavior: 'auto' });
      swiper.updateAutoHeight(200);
      toggleTopBtn();
      // Lazy init blog when first visiting
      ensureBlogReady();
    });
    // Initial UI state
    updateDots();
  // If starting in Blog view, ensure initialized after vars are set
  // (Avoid early slideTo before variables exist)
    // Direct slide controls without changing URL
    hintBtn?.addEventListener('click', () => { if (swiper.activeIndex === 0) swiper.slideTo(1); else swiper.slideTo(0); });
    dot2?.addEventListener('click', () => swiper.slideTo(1));

    // === Blog feed (JSONP) with infinite scroll on window ===
  const grid = document.getElementById('blog-grid');
  const skeletonEl = document.getElementById('blog-skeleton');
    const loaderEl = document.getElementById('blog-loader');
    const endEl = document.getElementById('blog-end');
    const toTopBtn = document.getElementById('to-top');
    let blogInitialized = false;
    let startIndex = 1;
    const pageSize = 10;
    let isLoading = false;
    let hasMore = true;
    let io;

    function extractThumb(html) {
      try {
        const doc = new DOMParser().parseFromString(html, 'text/html');
        const img = doc.querySelector('img');
        return img ? img.src : null;
      } catch (e) {
        return null;
      }
    }

    function stripHtml(html) {
      const div = document.createElement('div');
      div.innerHTML = html;
      return (div.textContent || div.innerText || '').trim();
    }

    function formatDate(isoStr) {
      if (!isoStr) return '';
      const d = new Date(isoStr);
      if (isNaN(d.getTime())) return '';
      return d.toLocaleDateString('id-ID', {
        weekday: 'short',
        year: 'numeric',
        month: 'short',
        day: 'numeric'
      });
    }

  function createCard(e) {
      const title = e.title?.$t || 'Tanpa judul';
      const link = (e.link || []).find(l => l.rel === 'alternate')?.href || '#';
      const content = e.content?.$t || e.summary?.$t || '';
      const excerptSrc = stripHtml(content);
      const excerpt = excerptSrc.length > 110 ? (excerptSrc.slice(0, 110) + '‚Ä¶') : excerptSrc;
      const dateStr = e.published?.$t || e.updated?.$t || '';
      const dateLabel = formatDate(dateStr);
      let thumb = e.media$thumbnail?.url || extractThumb(content) || null;
      if (thumb && thumb.startsWith('https://blogger.googleusercontent.com/img/b/')) {
        thumb = thumb.replace(/\/s\d+(?=-)/, '/s800');
      }

      // Build local reader link using Blogger IDs
      function toLocalLink(entry, fallbackUrl) {
        const idText = entry.id?.$t || '';
        // Typical: tag:blogger.com,1999:blog-<BID>.post-<PID>
        const m = idText.match(/blog-(\d+)\.post-(\d+)/);
        if (m) {
          const bid = m[1];
          const pid = m[2];
          return `post.html?bid=${encodeURIComponent(bid)}&pid=${encodeURIComponent(pid)}`;
        }
        return `post.html?url=${encodeURIComponent(fallbackUrl || '')}`;
      }

      const el = document.createElement('article');
      el.className = 'post-card rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm hover:shadow transition';

      const imgHTML = thumb
        ? `<img src="${thumb}" alt="" class="post-img" loading="lazy">`
        : `<div class="post-img bg-slate-100 dark:bg-slate-800"></div>`;

      const localHref = toLocalLink(e, link);

      el.innerHTML = `${imgHTML}
        <div class="post-body p-5">
          <a href="${localHref}" class="post-title hover:underline">${title}</a>
          ${dateLabel ? `<p class="mt-1 text-[12px] text-slate-500 dark:text-slate-400">${dateLabel}</p>` : ''}
          <p class="post-excerpt text-slate-600 dark:text-slate-300 line-clamp-3">${excerpt}</p>
        </div>`;
      return el;
    }

    function jsonp(url, cb) {
      const cbName = 'handleBlogger_' + Math.random().toString(36).slice(2);
      const s = document.createElement('script');
      const cleanup = () => { delete window[cbName]; s.remove(); };
      window[cbName] = (data) => { cleanup(); cb(null, data); };
      s.onerror = () => { cleanup(); cb(new Error('JSONP gagal')); };
      s.src = url + (url.includes('?') ? '&' : '?') + 'callback=' + cbName;
      document.body.appendChild(s);
    }
    function loadMore() {
      if (isLoading || !hasMore || swiper.activeIndex !== 1) return;
      isLoading = true;
  // show skeleton only for the very first batch
  if (startIndex === 1) skeletonEl?.classList.remove('hidden');
  loaderEl.classList.remove('hidden');
      const url = `https://wajibhimung.blogspot.com/feeds/posts/default?alt=json-in-script&max-results=${pageSize}&start-index=${startIndex}`;
      jsonp(url, (err, data) => {
        loaderEl.classList.add('hidden');
        isLoading = false;
        if (err) {
          skeletonEl?.classList.add('hidden');
          if (!grid.children.length) grid.innerHTML = '<div class="text-sm text-red-600">Gagal memuat.</div>';
          return;
        }
        const entries = (data && data.feed && data.feed.entry) ? data.feed.entry : [];
        if (!entries.length) {
          skeletonEl?.classList.add('hidden');
          hasMore = false;
          endEl.classList.remove('hidden');
          return;
        }
        const wasEmpty = grid.children.length === 0;
        const frag = document.createDocumentFragment();
        entries.forEach(e => frag.appendChild(createCard(e)));
        grid.appendChild(frag);
        if (wasEmpty) skeletonEl?.classList.add('hidden');
        startIndex += entries.length;
        const nextLink = (data.feed.link || []).find(l => l.rel === 'next');
        if (!nextLink || entries.length < pageSize) {
          hasMore = false;
          endEl.classList.remove('hidden');
        }
      });
    }

    function initBlog() {
      blogInitialized = true;
  // Show skeleton on first enter to Blog
  skeletonEl?.classList.remove('hidden');
  // Sentinel for window scroll
      const sentinel = document.createElement('div');
      sentinel.id = 'blog-sentinel';
      sentinel.className = 'h-6';
      document.querySelector('main').appendChild(sentinel);
      io = new IntersectionObserver(
        (entries) => { if (entries[0].isIntersecting) loadMore(); },
        { root: null, rootMargin: '200px', threshold: 0 }
      );
      io.observe(sentinel);
      loadMore();
    }

    function toggleTopBtn() {
      if (swiper.activeIndex === 1 && window.scrollY > 300) {
        toTopBtn.classList.remove('opacity-0', 'pointer-events-none');
      } else {
        toTopBtn.classList.add('opacity-0', 'pointer-events-none');
      }
    }
    window.addEventListener('scroll', () => toggleTopBtn(), { passive: true });
  toTopBtn.addEventListener('click', ()=> window.scrollTo({ top:0, behavior:'smooth' }));
  // If landing directly on Blog slide (via ?view=blog), init now
  ensureBlogReady();
  </script>
</body>
</html>
