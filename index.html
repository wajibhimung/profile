<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- SEO Basics -->
  <title>Wibowo Laksono — Guru TKJ SMKN 1 Telagasari</title>
  <meta name="description" content="Link hub resmi Wibowo Laksono, Guru Teknik Komputer dan Jaringan di SMKN 1 Telagasari. Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak.">
  <meta name="author" content="Wibowo Laksono">
  <meta name="keywords" content="Wibowo Laksono, Guru TKJ, SMKN 1 Telagasari, Teknik Komputer dan Jaringan, TKJ, Jaringan Komputer">
  <link rel="canonical" href="https://me.kelastkj.online/">
  <meta name="robots" content="index,follow">
  <meta name="theme-color" content="#0f172a">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Wibowo Laksono — Guru TKJ SMKN 1 Telagasari">
  <meta property="og:description" content="Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak.">
  <meta property="og:image" content="https://me.kelastkj.online/profile.png">
  <meta property="og:url" content="https://me.kelastkj.online/">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="id_ID">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Wibowo Laksono — Guru TKJ SMKN 1 Telagasari">
  <meta name="twitter:description" content="Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak..">
  <meta name="twitter:image" content="https://me.kelastkj.online/profile.png">
  
  <!-- Icons -->
  <link rel="icon" href="https://www.smkn1telagasari.sch.id/wp-content/uploads/2022/07/199207302020121021-300x300.png" type="image/png">
  <link rel="apple-touch-icon" href="https://www.smkn1telagasari.sch.id/wp-content/uploads/2022/07/199207302020121021-300x300.png">
  
  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Wibowo Laksono",
    "jobTitle": "Guru Teknik Komputer dan Jaringan",
    "affiliation": {
      "@type": "EducationalOrganization",
      "name": "SMKN 1 Telagasari",
      "url": "https://www.smkn1telagasari.sch.id/"
    },
    "email": "mailto:wibowo@guru.smkn1telagasari.sch.id",
    "url": "https://me.kelastkj.online/",
    "sameAs": [
      "https://www.linkedin.com/in/wajibhimung",
      "https://www.instagram.com/wajibhimung",
      "https://www.tiktok.com/@wajibhimung",
      "https://www.threads.net/@wajibhimung",
      "https://www.smkn1telagasari.sch.id/guru/wibowo-laksono-s-kom/"
    ],
    "image": "https://www.smkn1telagasari.sch.id/wp-content/uploads/2022/07/199207302020121021-300x300.png",
    "description": "Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak. Link penting Wibowo Laksono, Guru TKJ SMKN 1 Telagasari."
  }
  </script>
  
  <!-- Assets -->
  <script>
    // Early theme apply to avoid flash of wrong theme
    (function() {
      try {
  var t = localStorage.getItem('theme');
    // Default to dark when no saved preference (per request)
    if (!t) { t = 'dark'; }
  if (t === 'dark') { document.documentElement.classList.add('dark'); if (document.body) document.body.classList.add('dark'); }
  else { document.documentElement.classList.remove('dark'); if (document.body) document.body.classList.remove('dark'); }
  // Sync theme-color on initial load
  var meta = document.querySelector('meta[name="theme-color"]');
        if (meta) meta.setAttribute('content', t === 'dark' ? '#0f172a' : '#f8fafc');
      } catch (e) {}
  // Tailwind Play CDN config (define BEFORE CDN script so darkMode:'class' is honored)
  var tailwind = window.tailwind || {};
  tailwind.config = { darkMode: 'class' };
  window.tailwind = tailwind;
  })();
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Ensure Tailwind Play CDN uses class-based dark mode
    try { tailwind.config = Object.assign({}, tailwind.config || {}, { darkMode: 'class' }); } catch(e) { window.tailwind = { config: { darkMode: 'class' } }; }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Swiper -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <style>
    html { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans'; }
    :root { color-scheme: light dark; }
    .bg-grid { background-image: radial-gradient(rgba(99,102,241,0.15) 1px, transparent 1px); background-size: 18px 18px; }
    /* Page fade transitions */
    body { opacity: 0; transition: opacity .25s ease; }
    body.ready { opacity: 1; }
    /* Equal-height cards */
    .post-card { display:flex; flex-direction:column; height:100%; }
    .post-img { height:160px; width:100%; object-fit:cover; }
    @media (min-width: 1024px) { .post-img { height:176px; } }
    @media (min-width: 1280px) { .post-img { height:208px; } }
    .post-body { display:flex; flex-direction:column; flex:1 1 auto; }
    .post-title { display:block; font-weight:600; }
  .post-excerpt { margin-top:0.25rem; font-size:0.9rem; line-height:1.5rem; }
  .line-clamp-3 { display:-webkit-box; -webkit-line-clamp:3; line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
    /* Blog grid */
    .auto-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap:1.5rem; }
    @media (min-width:640px){ .auto-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); } }
    @media (min-width:1024px){ .auto-grid { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); } }
    @media (min-width:1536px){ .auto-grid { grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); } }

  /* Swipe hint overlay (mobile only) */
  #swipe-hint { position: fixed; left: 50%; bottom: 28px; transform: translateX(-50%) translateY(8px); z-index: 60; opacity: 0; pointer-events: none; transition: opacity .25s ease, transform .25s ease; }
  #swipe-hint.show { opacity: 1; transform: translateX(-50%) translateY(0); pointer-events: auto; }
  #swipe-hint .wrap { display:flex; align-items:center; gap:.625rem; padding:.6rem .9rem; border-radius:9999px; border:1px solid rgba(255,255,255,.16); background: linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.64)); color:#0f172a; box-shadow: 0 10px 28px rgba(2, 6, 23, .22); backdrop-filter: blur(10px); }
  .dark #swipe-hint .wrap { background: linear-gradient(180deg, rgba(2,6,23,.72), rgba(2,6,23,.62)); color:#e2e8f0; border-color: rgba(255,255,255,.08); }
  #swipe-hint .icon { position:relative; width:32px; height:32px; border-radius:9999px; display:flex; align-items:center; justify-content:center; color:white; background: radial-gradient(120% 120% at 30% 20%, #6366f1, #a78bfa); box-shadow: inset 0 0 20px rgba(255,255,255,.18); overflow:hidden; }
  #swipe-hint .icon::after { content:""; position:absolute; inset:-6px; border-radius:9999px; border:2px solid rgba(255,255,255,.18); opacity:.4; animation: pulseRing 1.8s ease-out infinite; }
  #swipe-hint .chev { width:16px; height:16px; opacity:.98; filter: drop-shadow(0 1px 1px rgba(0,0,0,.28)); }
  #swipe-hint[data-dir="right"] .chev { animation: swipeRight 1.2s ease-in-out infinite; }
  #swipe-hint[data-dir="left"] .chev { transform: scaleX(-1); animation: swipeRight 1.2s ease-in-out infinite; }
  #swipe-hint .text { font-size:13px; font-weight:700; letter-spacing:.2px; }
  @keyframes swipeRight { 0% { transform: translateX(-4px) scaleX(1); } 50% { transform: translateX(4px) scaleX(1); } 100% { transform: translateX(-4px) scaleX(1); } }
  @keyframes pulseRing { 0% { transform: scale(.7); opacity:.25; } 70% { transform: scale(1.15); opacity:0; } 100% { transform: scale(1.15); opacity:0; } }
  @media (min-width: 769px), (pointer: fine) { #swipe-hint { display:none; } }
  @media (prefers-reduced-motion: reduce) { #swipe-hint, #swipe-hint .chev { animation: none !important; transition: none !important; }
  }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-950 text-slate-900 dark:text-slate-100">
  <div class="absolute inset-0 bg-grid [mask-image:radial-gradient(ellipse_at_center,black,transparent_60%)] pointer-events-none"></div>

  <main class="relative mx-auto w-full px-0 sm:px-0 py-4 sm:py-6">
    <!-- Top hint -->
    <div class="px-4 sm:px-6 flex items-center justify-between gap-3">
      <button id="hint" class="inline-flex items-center gap-2 rounded-full bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-100 px-3 py-1.5 text-xs border border-slate-200 dark:border-slate-700 hover:bg-white dark:hover:bg-slate-700 transition">➡️ Blog</button>
      <div class="flex items-center gap-2">
        <button id="theme-toggle" aria-label="Ubah tema" title="Ubah tema" class="inline-flex items-center justify-center w-8 h-8 text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500/50 rounded-md">
          <!-- Sun icon -->
          <svg class="sun" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 4.5a1 1 0 0 1 1 1V7a1 1 0 1 1-2 0V5.5a1 1 0 0 1 1-1Zm0 11a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm7.5-3.5a1 1 0 0 1-1 1H17a1 1 0 1 1 0-2h1.5a1 1 0 0 1 1 1ZM12 17a1 1 0 0 1 1 1v1.5a1 1 0 1 1-2 0V18a1 1 0 0 1 1-1Zm-6.5-5.5a1 1 0 0 1 1-1H8a1 1 0 1 1 0 2H6.5a1 1 0 0 1-1-1Zm10.61-4.61a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 0 1-1.41 1.41L15.7 8.3a1 1 0 0 1 0-1.41Zm-9.42 9.42a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 0 1-1.41 1.41L6.2 17.7a1 1 0 0 1 0-1.41Zm11.89 1.41a1 1 0 0 1-1.41-1.41l1.06-1.06a1 1 0 0 1 1.41 1.41L18.58 17.3Zm-11.16-11.16a1 1 0 0 1-1.41 1.41L4.95 6.49A1 1 0 0 1 6.36 5.08l1.06 1.06Z"/>
          </svg>
          <!-- Moon icon -->
          <svg class="moon hidden" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 12.8A8.5 8.5 0 0 1 11.2 3a.75.75 0 0 0-1.02.86 7 7 0 1 0 9.96 9.96.75.75 0 0 0 .86-1.02Z"/>
          </svg>
        </button>
        <div class="flex gap-1" aria-label="indikator slide">
          <span class="w-2 h-2 rounded-full bg-slate-400/60" id="dot-1"></span>
          <a id="to-blog" class="w-2 h-2 rounded-full bg-slate-300/40 block hover:bg-slate-400/60 transition" title="Buka Blog"></a>
        </div>
      </div>
    </div>
    <div class="swiper mt-2">
      <div class="swiper-wrapper">
        <!-- Slide 1: Link Hub -->
        <section class="swiper-slide">
          <div class="px-4 sm:px-6 pb-6">
            <div class="mx-auto max-w-xl flex flex-col">
            <!-- Profile card -->
            <section class="flex flex-col items-center text-center gap-3 mt-4">
              <img src="https://www.smkn1telagasari.sch.id/wp-content/uploads/2022/07/199207302020121021-300x300.png" alt="Wibowo Laksono" class="h-24 w-24 rounded-full object-cover shadow-lg ring-2 ring-white/80 dark:ring-slate-800">
              <h1 class="text-xl font-extrabold tracking-tight">Wibowo Laksono</h1>
              <p class="text-[13px] text-slate-600 dark:text-slate-300">Guru Teknik Komputer dan Jaringan • SMKN 1 Telagasari</p>
              <p class="text-[13px] text-slate-600/90 dark:text-slate-300/90 max-w-md">Ilmu dan teknologi hanyalah alat, yang membuatnya bermanfaat adalah akhlak</p>
            </section>

            <!-- Quick badges -->
            <section class="mt-4 flex flex-wrap justify-center gap-2">
              <a href="mailto:wibowo@guru.smkn1telagasari.sch.id" class="inline-flex items-center gap-2 rounded-full bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-3 py-1.5 text-xs">✉️ Email</a>
              <a href="https://wa.me/628774040382" target="_blank" rel="noreferrer" class="inline-flex items-center gap-2 rounded-full bg-emerald-600 text-white px-3 py-1.5 text-xs">💬 WhatsApp</a>
              <a href="tel:08774040382" class="inline-flex items-center gap-2 rounded-full bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-100 px-3 py-1.5 text-xs border border-slate-200 dark:border-slate-700">📞 Telepon</a>
            </section>

            <!-- Links list -->
            <section class="mt-5 space-y-2.5">
              <a href="https://www.smkn1telagasari.sch.id/" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200">🏫</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Website SMKN 1 Telagasari</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">smkn1telagasari.sch.id</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">↗</div>
                </div>
              </a>
              <a href="https://www.smkn1telagasari.sch.id/guru/wibowo-laksono-s-kom/" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-200">🪪</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Profil Guru (Situs Sekolah)</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">wibowo-laksono-s-kom</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">↗</div>
                </div>
              </a>
              <a href="https://www.linkedin.com/in/wajibhimung" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-sky-100 text-sky-700 dark:bg-sky-900/40 dark:text-sky-200">in</div>
                  <div class="min-w-0">
                    <div class="font-semibold">LinkedIn</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">linkedin.com/in/wajibhimung</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">↗</div>
                </div>
              </a>
              <a href="https://www.instagram.com/wajibhimung" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-200">📸</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Instagram</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">@wajibhimung</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">↗</div>
                </div>
              </a>
              <!-- NEW: TikTok -->
              <a href="https://www.tiktok.com/@wajibhimung" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-zinc-100 text-zinc-700 dark:bg-zinc-900/40 dark:text-zinc-200">🎵</div>
                  <div class="min-w-0">
                    <div class="font-semibold">TikTok</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">tiktok.com/@wajibhimung</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">↗</div>
                </div>
              </a>
              <!-- NEW: Threads -->
              <a href="https://www.threads.net/@wajibhimung" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-neutral-100 text-neutral-700 dark:bg-neutral-900/40 dark:text-neutral-200">🧵</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Threads</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">threads.net/@wajibhimung</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">↗</div>
                </div>
              </a>
              <a href="https://kelastkj.smkn1telagasari.sch.id/" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-200">🎓</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Kelas Online TKJ</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">kelastkj.smkn1telagasari.sch.id</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">↗</div>
                </div>
              </a>
              <a href="https://jurnal-baca.kelastkj.online/" target="_blank" rel="noreferrer" class="block group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 hover:bg-white dark:hover:bg-slate-900 shadow-sm hover:shadow transition px-5 py-4">
                <div class="flex items-center gap-4">
                  <div class="h-9 w-9 flex items-center justify-center rounded-xl bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200">📖</div>
                  <div class="min-w-0">
                    <div class="font-semibold">Jurnal Baca</div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 truncate">jurnal-baca.kelastkj.online</div>
                  </div>
                  <div class="ml-auto opacity-60 group-hover:translate-x-0.5 transition">↗</div>
                </div>
              </a>
            </section>

            <footer class="mt-auto text-center text-xs text-slate-500 dark:text-slate-400 pt-6 pb-8">
              © <span id="year"></span> Wibowo Laksono • Dibuat dengan Tailwind • Mode gelap otomatis 🌙
            </footer>
            </div>
          </div>
        </section>

        <!-- Slide 2: Blog (window scroll, infinite load) -->
        <section class="swiper-slide">
          <div class="px-4 sm:px-6 lg:px-8 xl:px-12 pb-6">
            <header class="flex items-center justify-between mt-4">
              <h2 class="text-lg font-semibold">Blog</h2>
              <a href="https://wajibhimung.blogspot.com" target="_blank" rel="noreferrer" class="text-sm text-indigo-600 hover:underline">Kunjungi blog</a>
            </header>
            <!-- Blog controls: search and label filters -->
            <section class="mt-3 flex flex-col sm:flex-row sm:items-center gap-2">
              <div class="flex-1">
                <label for="blog-search" class="sr-only">Cari artikel</label>
                <div class="relative">
                  <span class="pointer-events-none absolute inset-y-0 left-3 flex items-center text-slate-400">🔎</span>
                  <input id="blog-search" type="search" placeholder="Cari artikel…" class="w-full pl-9 pr-8 py-2 rounded-full text-sm border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/40" />
                  <button id="blog-search-clear" class="absolute inset-y-0 right-2 my-auto h-6 px-2 rounded-full text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-100/70 dark:hover:bg-slate-800/70 hidden">Bersihkan</button>
                </div>
              </div>
              <div id="label-chips" class="flex flex-wrap gap-2"></div>
            </section>
            <!-- Blog skeleton/loading -->
            <div id="blog-skeleton" class="mt-4 auto-grid hidden">
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-3/4"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/3"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-11/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-2/3"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/4"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-10/12"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-8/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-4/5"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/3"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-7/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-2/3"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/4"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-10/12"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-8/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-3/4"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/3"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-11/12"></div>
                </div>
              </div>
              <div class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm animate-pulse">
                <div class="post-img bg-slate-200 dark:bg-slate-800"></div>
                <div class="p-5 space-y-3">
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-4/5"></div>
                  <div class="h-3 bg-slate-200 dark:bg-slate-800 rounded w-1/3"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"></div>
                  <div class="h-4 bg-slate-200 dark:bg-slate-800 rounded w-7/12"></div>
                </div>
              </div>
            </div>
            <section class="mt-4 auto-grid" id="blog-grid"></section>
            <div id="blog-loader" class="py-4 text-center text-sm text-slate-500 hidden">Memuat…</div>
            <div id="blog-error" class="py-4 text-center hidden">
              <div class="inline-flex items-center gap-3 px-3 py-2.5 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 shadow-sm">
                <span class="text-sm text-slate-600 dark:text-slate-300">Tidak bisa memuat.</span>
                <button id="blog-retry" class="inline-flex items-center gap-1.5 h-8 px-3 rounded-full text-[13px] font-medium bg-white/85 dark:bg-slate-900/80 text-slate-800 dark:text-slate-200 border border-slate-200/70 dark:border-slate-700/60 hover:bg-white dark:hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500/40">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 6a6 6 0 1 0 5.2 3H19a1 1 0 1 0 0-2h-4a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V9.85A4 4 0 1 1 12 8a1 1 0 0 0 0-2Z"/></svg>
                  Coba lagi
                </button>
              </div>
              <div id="blog-offline-hint" class="mt-2 text-xs text-amber-600 dark:text-amber-400 hidden">Sepertinya Anda sedang offline. Periksa koneksi dan coba lagi.</div>
            </div>
            <div id="blog-end" class="py-4 text-center text-sm text-slate-500 hidden">Sudah sampai akhir.</div>
          </div>
        </section>
      </div>
    </div>
    <!-- Back-to-top (Blog only) – subtle labeled pill -->
    <button id="to-top" aria-label="Kembali ke atas" title="Kembali ke atas"
      class="fixed bottom-16 right-4 z-40 pointer-events-none opacity-0 transition duration-200
             inline-flex items-center gap-1.5 h-8 px-3 rounded-full text-[13px] font-medium
             bg-white/85 dark:bg-slate-900/80 text-slate-800 dark:text-slate-200
             border border-slate-200/70 dark:border-slate-700/60 backdrop-blur-md shadow-md
             hover:bg-white dark:hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500/40">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 5a1 1 0 0 1 .7.29l5 5a1 1 0 0 1-1.4 1.42L13 8.41V19a1 1 0 1 1-2 0V8.41L7.7 11.7a1 1 0 0 1-1.4-1.42l5-5A1 1 0 0 1 12 5Z"/></svg>
      <span>Ke atas</span>
    </button>
    
    <!-- Swipe hint overlay (injected once per page load on mobile) -->
    <div id="swipe-hint" aria-live="polite" role="status" data-dir="right">
      <div class="wrap">
        <div class="icon" aria-hidden="true">
          <svg class="chev" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.7 5.3a1 1 0 0 0 0 1.4L13.59 12 8.7 16.3a1 1 0 1 0 1.4 1.4l5.65-5.65a1.5 1.5 0 0 0 0-2.12L10.1 5.3a1 1 0 0 0-1.4 0Z"/>
          </svg>
        </div>
        <span id="swipe-hint-text" class="text">Geser ke kanan ke Blog</span>
      </div>
    </div>
  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script>
    // Fade-in
    document.addEventListener('DOMContentLoaded', () => {
      requestAnimationFrame(() => document.body.classList.add('ready'));
    });
    document.getElementById('year').textContent = new Date().getFullYear();

  // Swiper (no URL changes)
  const initialSlide = (new URLSearchParams(location.search).get('view') === 'blog') ? 1 : 0;
  const swiper = new Swiper('.swiper', { spaceBetween: 8, resistanceRatio: 0.85, allowTouchMove: true, autoHeight: true, initialSlide });
    const dot1 = document.getElementById('dot-1');
    const dot2 = document.getElementById('to-blog');
    const hintBtn = document.getElementById('hint');
    function updateDots() {
      if (swiper.activeIndex === 0) {
        hintBtn.textContent = '➡️ Blog';
        dot1.style.backgroundColor = 'rgb(148 163 184)';
        dot1.style.opacity = 0.9;
        dot2.style.backgroundColor = 'rgb(203 213 225)';
        dot2.style.opacity = 0.4;
      } else {
        hintBtn.textContent = '⬅️ Profile';
        dot2.style.backgroundColor = 'rgb(148 163 184)';
        dot2.style.opacity = 0.9;
        dot1.style.backgroundColor = 'rgb(203 213 225)';
        dot1.style.opacity = 0.4;
      }
    }
    function ensureBlogReady() { if (swiper.activeIndex === 1 && !blogInitialized) initBlog(); }
    swiper.on('slideChange', () => {
      updateDots();
      // Reset scroll on entering home; reveal toTop based on blog state
  if (swiper.activeIndex === 0) window.scrollTo({ top: 0, behavior: 'auto' });
      swiper.updateAutoHeight(200);
      toggleTopBtn();
      // Lazy init blog when first visiting
      ensureBlogReady();

  // Show one-time swipe hint on entering Blog slide
  maybeShowSwipeHint(swiper.activeIndex === 1 ? 'left' : 'right');
    });
    // Initial UI state
    updateDots();
  // If starting in Blog view, ensure initialized after vars are set
  // (Avoid early slideTo before variables exist)
    // Direct slide controls without changing URL
    hintBtn?.addEventListener('click', () => { if (swiper.activeIndex === 0) swiper.slideTo(1); else swiper.slideTo(0); });
    dot2?.addEventListener('click', () => swiper.slideTo(1));

    // === Blog feed (JSONP) with infinite scroll on window ===
  const grid = document.getElementById('blog-grid');
  const skeletonEl = document.getElementById('blog-skeleton');
  const loaderEl = document.getElementById('blog-loader');
  const errorEl = document.getElementById('blog-error');
  const offlineHintEl = document.getElementById('blog-offline-hint');
  const searchInput = document.getElementById('blog-search');
  const searchClear = document.getElementById('blog-search-clear');
  const chipsWrap = document.getElementById('label-chips');
    const endEl = document.getElementById('blog-end');
    const toTopBtn = document.getElementById('to-top');
    let blogInitialized = false;
    let startIndex = 1;
    const pageSize = 10;
  let isLoading = false;
    let hasMore = true;
    let io;
  let lastUrl = '';
  let allPosts = []; // store loaded entries for client-side filtering
  let activeLabel = '';
  let searchTerm = '';
  let searchDebounce = null;

    function extractThumb(html) {
      try {
        const doc = new DOMParser().parseFromString(html, 'text/html');
        const img = doc.querySelector('img');
        return img ? img.src : null;
      } catch (e) {
        return null;
      }
    }

    function stripHtml(html) {
      const div = document.createElement('div');
      div.innerHTML = html;
      return (div.textContent || div.innerText || '').trim();
    }

    function formatDate(isoStr) {
      if (!isoStr) return '';
      const d = new Date(isoStr);
      if (isNaN(d.getTime())) return '';
      return d.toLocaleDateString('id-ID', {
        weekday: 'short',
        year: 'numeric',
        month: 'short',
        day: 'numeric'
      });
    }

  function createCard(e) {
      const title = e.title?.$t || 'Tanpa judul';
      const link = (e.link || []).find(l => l.rel === 'alternate')?.href || '#';
      const content = e.content?.$t || e.summary?.$t || '';
      const excerptSrc = stripHtml(content);
      const excerpt = excerptSrc.length > 110 ? (excerptSrc.slice(0, 110) + '…') : excerptSrc;
      const dateStr = e.published?.$t || e.updated?.$t || '';
      const dateLabel = formatDate(dateStr);
      let thumb = e.media$thumbnail?.url || extractThumb(content) || null;
      if (thumb && thumb.startsWith('https://blogger.googleusercontent.com/img/b/')) {
        thumb = thumb.replace(/\/s\d+(?=-)/, '/s800');
      }

      // Build local reader link using Blogger IDs
      function toLocalLink(entry, fallbackUrl) {
        const idText = entry.id?.$t || '';
        // Typical: tag:blogger.com,1999:blog-<BID>.post-<PID>
        const m = idText.match(/blog-(\d+)\.post-(\d+)/);
        if (m) {
          const bid = m[1];
          const pid = m[2];
          return `post.html?bid=${encodeURIComponent(bid)}&pid=${encodeURIComponent(pid)}`;
        }
        return `post.html?url=${encodeURIComponent(fallbackUrl || '')}`;
      }

      const el = document.createElement('article');
      el.className = 'post-card rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 overflow-hidden shadow-sm hover:shadow transition';

      const imgHTML = thumb
        ? `<img src="${thumb}" alt="" class="post-img" loading="lazy">`
        : `<div class="post-img bg-slate-100 dark:bg-slate-800"></div>`;

      const localHref = toLocalLink(e, link);

  el.innerHTML = `${imgHTML}
        <div class="post-body p-5">
          <a href="${localHref}" class="post-title hover:underline">${title}</a>
          ${dateLabel ? `<p class="mt-1 text-[12px] text-slate-500 dark:text-slate-400">${dateLabel}</p>` : ''}
          <p class="post-excerpt text-slate-600 dark:text-slate-300 line-clamp-3">${excerpt}</p>
        </div>`;
  // store searchable text for potential future direct DOM filtering if needed
  el.dataset.search = (title + ' ' + excerptSrc).toLowerCase();
      return el;
    }

    function jsonp(url, cb) {
      const cbName = 'handleBlogger_' + Math.random().toString(36).slice(2);
      const s = document.createElement('script');
      const cleanup = () => { delete window[cbName]; s.remove(); };
      window[cbName] = (data) => { cleanup(); cb(null, data); };
      s.onerror = () => { cleanup(); cb(new Error('JSONP gagal')); };
      s.src = url + (url.includes('?') ? '&' : '?') + 'callback=' + cbName;
      document.body.appendChild(s);
    }
    function loadMore() {
      if (isLoading || !hasMore || swiper.activeIndex !== 1) return;
      isLoading = true;
  // show skeleton only for the very first batch
  if (startIndex === 1) skeletonEl?.classList.remove('hidden');
  errorEl.classList.add('hidden');
  loaderEl.classList.remove('hidden');
  const base = activeLabel
        ? `https://wajibhimung.blogspot.com/feeds/posts/default/-/${encodeURIComponent(activeLabel)}`
        : `https://wajibhimung.blogspot.com/feeds/posts/default`;
  const qParam = searchTerm ? `&q=${encodeURIComponent(searchTerm)}` : '';
  const url = `${base}?alt=json-in-script&max-results=${pageSize}&start-index=${startIndex}${qParam}`;
      lastUrl = url;
      jsonp(url, (err, data) => {
        loaderEl.classList.add('hidden');
        isLoading = false;
        if (err) {
          skeletonEl?.classList.add('hidden');
          // Show retry UI and offline hint; stop auto-load until user retries
          if (!grid.children.length) {
            errorEl.classList.remove('hidden');
            if (typeof navigator !== 'undefined' && navigator && 'onLine' in navigator) {
              if (navigator.onLine === false) offlineHintEl?.classList.remove('hidden');
              else offlineHintEl?.classList.add('hidden');
            }
          }
          return;
        }
        const entries = (data && data.feed && data.feed.entry) ? data.feed.entry : [];
        if (!entries.length) {
          skeletonEl?.classList.add('hidden');
          hasMore = false;
          endEl.classList.remove('hidden');
          return;
        }
        const wasEmpty = grid.children.length === 0;
        // accumulate entries and render via filter
        allPosts = allPosts.concat(entries);
        renderFiltered();
        if (wasEmpty) skeletonEl?.classList.add('hidden');
        startIndex += entries.length;
        const nextLink = (data.feed.link || []).find(l => l.rel === 'next');
        if (!nextLink || entries.length < pageSize) {
          hasMore = false;
          endEl.classList.remove('hidden');
        }
      });
    }

    function renderFiltered(){
      grid.innerHTML = '';
      const term = searchTerm.trim().toLowerCase();
      const filtered = allPosts.filter(e => {
        if (activeLabel) {
          const labels = Array.isArray(e.category) ? e.category.map(c=>c.term) : [];
          if (!labels.includes(activeLabel)) return false;
        }
        if (!term) return true;
        const title = (e.title?.$t || '').toLowerCase();
        const content = (stripHtml(e.content?.$t || e.summary?.$t || '') || '').toLowerCase();
        return title.includes(term) || content.includes(term);
      });
      const frag = document.createDocumentFragment();
      filtered.forEach(e => frag.appendChild(createCard(e)));
      grid.appendChild(frag);
    }

    function initBlog() {
      blogInitialized = true;
  // Show skeleton on first enter to Blog
  skeletonEl?.classList.remove('hidden');
  // Sentinel for window scroll
      const sentinel = document.createElement('div');
      sentinel.id = 'blog-sentinel';
      sentinel.className = 'h-6';
      document.querySelector('main').appendChild(sentinel);
      io = new IntersectionObserver(
        (entries) => { if (entries[0].isIntersecting) loadMore(); },
        { root: null, rootMargin: '200px', threshold: 0 }
      );
      io.observe(sentinel);
      loadMore();
    }

    // Retry click handler
    document.addEventListener('click', (e) => {
      const target = e.target;
      if (target && target.id === 'blog-retry') {
        // If offline, keep hint visible; still allow retry attempt
        if (typeof navigator !== 'undefined' && navigator && 'onLine' in navigator) {
          if (navigator.onLine === false) offlineHintEl?.classList.remove('hidden');
          else offlineHintEl?.classList.add('hidden');
        }
        errorEl.classList.add('hidden');
        // Attempt to load again (same paging state)
        loadMore();
      }
    });

    // Build label chips from first batch
    function buildChipsFromEntries(entries){
      if (!chipsWrap) return;
      const set = new Set();
      entries.forEach(e => {
        const labels = Array.isArray(e.category) ? e.category.map(c=>c.term).filter(Boolean) : [];
        labels.forEach(l => set.add(l));
      });
      const labels = Array.from(set).sort((a,b)=> a.localeCompare(b, 'id'));
      chipsWrap.innerHTML = '';
      // All chip
      const allBtn = document.createElement('button');
      allBtn.className = 'chip inline-flex items-center h-8 px-3 rounded-full text-[13px] font-medium bg-white/85 dark:bg-slate-900/80 text-slate-800 dark:text-slate-200 border border-slate-200/70 dark:border-slate-700/60 hover:bg-white dark:hover:bg-slate-800';
      allBtn.textContent = 'Semua';
      allBtn.dataset.value = '';
      chipsWrap.appendChild(allBtn);
      labels.forEach(l => {
        const b = document.createElement('button');
        b.className = 'chip inline-flex items-center h-8 px-3 rounded-full text-[13px] font-medium bg-white/70 dark:bg-slate-900/60 text-slate-700 dark:text-slate-200 border border-slate-200/70 dark:border-slate-700/60 hover:bg-white dark:hover:bg-slate-800';
        b.textContent = l;
        b.dataset.value = l;
        chipsWrap.appendChild(b);
      });
      updateChipActive();
    }

    function updateChipActive(){
      if (!chipsWrap) return;
      chipsWrap.querySelectorAll('.chip').forEach(el => {
        const isActive = (el.dataset.value || '') === (activeLabel || '');
        el.classList.toggle('bg-indigo-50', isActive);
        el.classList.toggle('text-indigo-700', isActive);
        el.classList.toggle('dark:bg-indigo-900/40', isActive);
        el.classList.toggle('dark:text-indigo-200', isActive);
      });
    }

    // Enhance first load to build chips
    const origRenderFiltered = renderFiltered;
    renderFiltered = function(){
      const beforeCount = grid.children.length;
      const prevHadChips = chipsWrap && chipsWrap.childElementCount > 0;
      origRenderFiltered();
      if (!prevHadChips && allPosts.length) {
        // Build chips only once from the first accumulated batch
        buildChipsFromEntries(allPosts.slice(0, pageSize));
      }
    }

    // Reset and fetch helper
    function resetAndFetch(){
      grid.innerHTML = '';
      allPosts = [];
      startIndex = 1;
      hasMore = true;
      endEl.classList.add('hidden');
      errorEl?.classList.add('hidden');
      skeletonEl?.classList.remove('hidden');
      loadMore();
    }

    // Search interactions with debounce and server-side query
    function applySearchTerm(v){
      searchTerm = (v || '').trim();
      if (searchClear) searchClear.classList.toggle('hidden', !searchTerm);
      // Debounce server query
      if (searchDebounce) clearTimeout(searchDebounce);
      searchDebounce = setTimeout(() => {
        resetAndFetch();
      }, 320);
    }
    searchInput?.addEventListener('input', (e)=> applySearchTerm(e.target.value));
    searchClear?.addEventListener('click', ()=> { searchInput.value=''; applySearchTerm(''); });

    // Chip click: toggle and, if selecting a label, optionally fetch server-side by label
    chipsWrap?.addEventListener('click', (e)=>{
      const btn = e.target.closest('.chip');
      if (!btn) return;
      const value = btn.dataset.value || '';
      if (value === activeLabel) {
        activeLabel = '';
      } else {
        activeLabel = value;
      }
      updateChipActive();
  // When changing label, reset grid and refetch (search term stays applied)
  resetAndFetch();
      // Keep search term applied; renderFiltered will apply after first batch returns
    });

    function toggleTopBtn() {
      // Show a bit earlier so users notice it; only on Blog slide
      const threshold = 160;
      const onBlog = swiper.activeIndex === 1;
      if (onBlog && window.scrollY > threshold) {
        toTopBtn.classList.remove('opacity-0', 'pointer-events-none');
      } else {
        toTopBtn.classList.add('opacity-0', 'pointer-events-none');
      }
    }
    window.addEventListener('scroll', () => toggleTopBtn(), { passive: true });
  toTopBtn.addEventListener('click', ()=> window.scrollTo({ top:0, behavior:'smooth' }));
  // If landing directly on Blog slide (via ?view=blog), init now
  ensureBlogReady();

  // === Bottom tab bar (Profil / Blog) ===
  (function setupBottomTabs(){
    // Inject bottom bar markup once
    const wrap = document.createElement('div');
    wrap.id = 'bottom-bar';
  wrap.className = 'fixed inset-x-0 bottom-2 sm:bottom-4 z-50 flex justify-center pointer-events-none';
    wrap.innerHTML = `
      <nav class="pointer-events-auto bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border border-slate-200/70 dark:border-slate-700/60 rounded-full shadow-lg px-2 py-1" style="padding-bottom: calc(env(safe-area-inset-bottom, 0px));">
        <ul class="flex items-center gap-1">
          <li>
            <button id="tab-profile" class="tab-btn inline-flex items-center justify-center gap-2 h-9 px-3.5 rounded-full text-[13px] font-semibold leading-none text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition-colors whitespace-nowrap" aria-label="Profil">
              <svg class="shrink-0" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-4 0-7 2-7 4.5V20a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1.5C19 16 16 14 12 14Z"/></svg>
              <span class="hidden sm:inline relative -top-px">Profil</span>
            </button>
          </li>
          <li>
            <button id="tab-blog" class="tab-btn inline-flex items-center justify-center gap-2 h-9 px-3.5 rounded-full text-[13px] font-semibold leading-none text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition-colors whitespace-nowrap" aria-label="Blog">
              <svg class="shrink-0" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6 5a2 2 0 0 0-2 2v10.5A1.5 1.5 0 0 0 5.5 19h10a2.5 2.5 0 0 0 2.5-2.5V7a2 2 0 0 0-2-2Zm1 3h8a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm0 4h8a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Z"/></svg>
              <span class="hidden sm:inline relative -top-px">Blog</span>
            </button>
          </li>
        </ul>
      </nav>`;
    document.body.appendChild(wrap);

    const tabProfile = document.getElementById('tab-profile');
    const tabBlog = document.getElementById('tab-blog');
    const activeOn = (el) => {
      el?.classList.add('bg-indigo-50','text-indigo-700','dark:bg-indigo-900/40','dark:text-indigo-200');
      el?.setAttribute('aria-current','page');
    };
    const activeOff = (el) => {
      el?.classList.remove('bg-indigo-50','text-indigo-700','dark:bg-indigo-900/40','dark:text-indigo-200');
      el?.removeAttribute('aria-current');
    };
    function updateBottomTabs(){
      if (swiper.activeIndex === 0) { activeOn(tabProfile); activeOff(tabBlog); }
      else { activeOn(tabBlog); activeOff(tabProfile); }
    }
    tabProfile?.addEventListener('click', () => swiper.slideTo(0));
    tabBlog?.addEventListener('click', () => { ensureBlogReady(); swiper.slideTo(1); });
    swiper.on('slideChange', updateBottomTabs);
    // initial state
    updateBottomTabs();
  })();

  // === Theme toggle ===
  (function setupThemeToggle(){
    const btn = document.getElementById('theme-toggle');
    if (!btn) return;
    const sun = btn.querySelector('.sun');
    const moon = btn.querySelector('.moon');
    const metaTheme = document.querySelector('meta[name="theme-color"]');

    function getTheme(){ return document.documentElement.classList.contains('dark') ? 'dark' : 'light'; }
    function updateIcon(theme){
      if (!sun || !moon) return;
      if (theme === 'dark') { sun.classList.add('hidden'); moon.classList.remove('hidden'); btn.setAttribute('aria-label','Ubah ke mode terang'); }
      else { moon.classList.add('hidden'); sun.classList.remove('hidden'); btn.setAttribute('aria-label','Ubah ke mode gelap'); }
    }
    function updateThemeColor(theme){
      if (!metaTheme) return;
      // Match the body gradient top color roughly
      metaTheme.setAttribute('content', theme === 'dark' ? '#0f172a' : '#f8fafc');
    }
    function setTheme(theme){
      if (theme === 'dark') { document.documentElement.classList.add('dark'); document.body.classList.add('dark'); }
      else { document.documentElement.classList.remove('dark'); document.body.classList.remove('dark'); }
      try { localStorage.setItem('theme', theme); } catch(e){}
      updateIcon(theme);
      updateThemeColor(theme);
    }
    btn.addEventListener('click', function(){ setTheme(getTheme() === 'dark' ? 'light' : 'dark'); });
    // Initialize icon state on load
    const initial = getTheme();
    updateIcon(initial);
    updateThemeColor(initial);
  })();

  // === Swipe hints (mobile-only, once per slide per page load) ===
  (function setupSwipeHints(){
    const hintEl = document.getElementById('swipe-hint');
    const hintText = document.getElementById('swipe-hint-text');
  const bottomBar = document.getElementById('bottom-bar');
    let hideTimer = null;
    let shownProfile = false;
    let shownBlog = false;

    function isMobile() {
      return (window.matchMedia && window.matchMedia('(pointer: coarse)').matches) && window.innerWidth <= 768;
    }

    function hideHint() {
      if (!hintEl) return;
      hintEl.classList.remove('show');
      if (hideTimer) { clearTimeout(hideTimer); hideTimer = null; }
    }

    function showHint(direction) {
      if (!hintEl || !isMobile()) return;
  // Ensure hint floats above bottom bar
  placeHint();
      hintEl.setAttribute('data-dir', direction);
      if (direction === 'right') {
        hintText.textContent = 'Geser ke kanan ke Blog';
      } else {
        hintText.textContent = 'Geser ke kiri ke Profil';
      }
      hintEl.classList.add('show');
      if (hideTimer) clearTimeout(hideTimer);
      hideTimer = setTimeout(hideHint, 2600);
    }

    // Dismiss on tap
    hintEl?.addEventListener('click', hideHint, { passive: true });

    // Public gate: decide when to show and set one-time flags
    window.maybeShowSwipeHint = function(dir){
      if (!isMobile()) return;
      if (dir === 'right') {
        if (!shownProfile) {
          shownProfile = true;
          setTimeout(() => showHint('right'), 350);
        }
      } else {
        if (!shownBlog) {
          shownBlog = true;
          setTimeout(() => showHint('left'), 250);
        }
      }
    }

    // Initial hint based on current slide
    maybeShowSwipeHint(swiper.activeIndex === 0 ? 'right' : 'left');

    // Dynamically position hint above bottom bar
    function placeHint(){
      try {
        const bar = document.getElementById('bottom-bar');
        const safe = parseInt(getComputedStyle(document.documentElement).getPropertyValue('env(safe-area-inset-bottom, 0px)')) || 0;
        if (bar && hintEl) {
          const rect = bar.getBoundingClientRect();
          const fromBottom = Math.max(window.innerHeight - rect.top, 0);
          const offset = fromBottom + 12 + safe; // add 12px gap
          hintEl.style.bottom = offset + 'px';
        } else if (hintEl) {
          hintEl.style.bottom = '28px';
        }
      } catch(e) { /* noop */ }
    }
    // Place on load and on resize
    placeHint();
    window.addEventListener('resize', placeHint);
  })();
  </script>
</body>
</html>
